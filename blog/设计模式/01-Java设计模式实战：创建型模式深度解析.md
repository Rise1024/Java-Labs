---
title: Javaè®¾è®¡æ¨¡å¼å®æˆ˜ï¼šåˆ›å»ºå‹æ¨¡å¼æ·±åº¦è§£æ
description: æ·±å…¥è§£æJavaåˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼ŒåŒ…æ‹¬å•ä¾‹ã€å·¥å‚ã€å»ºé€ è€…ç­‰æ¨¡å¼çš„å®ç°åŸç†å’Œæœ€ä½³å®è·µ
tags: [Java, è®¾è®¡æ¨¡å¼, åˆ›å»ºå‹æ¨¡å¼, å•ä¾‹æ¨¡å¼, å·¥å‚æ¨¡å¼, å»ºé€ è€…æ¨¡å¼]
category: è®¾è®¡æ¨¡å¼
date: 2025-09-26
---

# Javaè®¾è®¡æ¨¡å¼å®æˆ˜ï¼šåˆ›å»ºå‹æ¨¡å¼æ·±åº¦è§£æ

## ğŸ¯ å¼•è¨€

åˆ›å»ºå‹æ¨¡å¼å…³æ³¨å¯¹è±¡åˆ›å»ºæœºåˆ¶ï¼Œè¯•å›¾åˆ›å»ºé€‚åˆæƒ…å†µçš„å¯¹è±¡ã€‚è¿™äº›æ¨¡å¼å°†å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹æŠ½è±¡åŒ–ï¼Œä½¿ç³»ç»Ÿç‹¬ç«‹äºå¦‚ä½•åˆ›å»ºã€ç»„åˆå’Œè¡¨ç¤ºå¯¹è±¡ã€‚

æœ¬æ–‡å°†æ·±å…¥è§£ææœ€å¸¸ç”¨çš„åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œç»“åˆJava 17çš„æœ€æ–°ç‰¹æ€§ï¼Œæä¾›ä¼ä¸šçº§çš„å®ç°æ–¹æ¡ˆã€‚

## ğŸ“š åˆ›å»ºå‹æ¨¡å¼æ¦‚è¿°

åˆ›å»ºå‹æ¨¡å¼ä¸»è¦è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š
- **å¯¹è±¡åˆ›å»ºçš„å¤æ‚æ€§** - ç®€åŒ–å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹
- **åˆ›å»ºè¿‡ç¨‹çš„å°è£…** - éšè—å¯¹è±¡åˆ›å»ºçš„ç»†èŠ‚
- **çµæ´»æ€§å¢å¼º** - æ”¯æŒåŠ¨æ€å†³å®šåˆ›å»ºå“ªäº›å¯¹è±¡
- **ä»£ç å¤ç”¨** - å‡å°‘é‡å¤çš„å¯¹è±¡åˆ›å»ºä»£ç 

### åˆ›å»ºå‹æ¨¡å¼åˆ†ç±»

| æ¨¡å¼åç§° | ä¸»è¦ç›®çš„ | é€‚ç”¨åœºæ™¯ | å¤æ‚åº¦ |
|---------|---------|---------|-------|
| **å•ä¾‹æ¨¡å¼** | ç¡®ä¿ç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ | é…ç½®ç®¡ç†ã€æ—¥å¿—è®°å½•ã€æ•°æ®åº“è¿æ¥æ±  | â­â­ |
| **å·¥å‚æ¨¡å¼** | å°è£…å¯¹è±¡åˆ›å»ºé€»è¾‘ | å¯¹è±¡ç±»å‹éœ€è¦æ ¹æ®æ¡ä»¶å†³å®š | â­â­â­ |
| **å»ºé€ è€…æ¨¡å¼** | æ„å»ºå¤æ‚å¯¹è±¡ | å¯¹è±¡æœ‰å¤šä¸ªå¯é€‰å‚æ•° | â­â­â­â­ |
| **åŸå‹æ¨¡å¼** | é€šè¿‡å¤åˆ¶åˆ›å»ºå¯¹è±¡ | å¯¹è±¡åˆ›å»ºæˆæœ¬é«˜ï¼Œéœ€è¦å¤§é‡ç›¸ä¼¼å¯¹è±¡ | â­â­â­ |
| **æŠ½è±¡å·¥å‚æ¨¡å¼** | åˆ›å»ºç›¸å…³å¯¹è±¡æ— | éœ€è¦åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³çš„å¯¹è±¡ | â­â­â­â­â­ |

## ğŸ” å•ä¾‹æ¨¡å¼è¯¦è§£

### æ¨¡å¼å®šä¹‰

ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›å…¨å±€è®¿é—®ç‚¹ã€‚

### å®ç°æ–¹å¼å¯¹æ¯”

#### 1. é¥¿æ±‰å¼å•ä¾‹ï¼ˆæ¨èç”¨äºæ— å»¶è¿ŸåŠ è½½éœ€æ±‚ï¼‰

```java
@Slf4j
public class Singleton {
    // ç±»åŠ è½½æ—¶å³åˆ›å»ºå®ä¾‹
    private static final Singleton INSTANCE = new Singleton();
    
    private Singleton() {
        log.info("åˆ›å»ºå•ä¾‹å®ä¾‹ï¼š{}", this.hashCode());
    }
    
    public static Singleton getInstance() {
        return INSTANCE;
    }
}
```

**ä¼˜åŠ¿**ï¼š
- çº¿ç¨‹å®‰å…¨
- å®ç°ç®€å•
- æ— éœ€åŒæ­¥

**åŠ£åŠ¿**ï¼š
- æ— å»¶è¿ŸåŠ è½½
- å¯èƒ½é€ æˆèµ„æºæµªè´¹

#### 2. æ‡’æ±‰å¼å•ä¾‹ï¼ˆåŒé‡æ£€æŸ¥é”å®šï¼‰

```java
@Slf4j
public class LazySingleton {
    private static volatile LazySingleton instance;
    
    private LazySingleton() {
        log.info("åˆ›å»ºæ‡’æ±‰å¼å•ä¾‹å®ä¾‹ï¼š{}", this.hashCode());
    }
    
    public static LazySingleton getInstance() {
        if (instance == null) {
            synchronized (LazySingleton.class) {
                if (instance == null) {
                    instance = new LazySingleton();
                }
            }
        }
        return instance;
    }
}
```

**å…³é”®æŠ€æœ¯ç‚¹**ï¼š
- `volatile` å…³é”®å­—ç¡®ä¿å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å¯è§æ€§
- åŒé‡æ£€æŸ¥å‡å°‘åŒæ­¥å¼€é”€
- å»¶è¿ŸåŠ è½½èŠ‚çœèµ„æº

#### 3. æšä¸¾å•ä¾‹ï¼ˆå¼ºçƒˆæ¨èï¼‰

```java
@Slf4j
public enum EnumSingleton {
    INSTANCE;
    
    EnumSingleton() {
        log.info("åˆ›å»ºæšä¸¾å•ä¾‹å®ä¾‹ï¼š{}", this.hashCode());
    }
    
    public void doSomething(String message) {
        log.info("æšä¸¾å•ä¾‹æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼š{}", message);
    }
}
```

**ä¸ºä»€ä¹ˆæ¨èæšä¸¾å•ä¾‹**ï¼š
- çº¿ç¨‹å®‰å…¨ï¼ˆJVMä¿è¯ï¼‰
- é˜²æ­¢åå°„æ”»å‡»
- é˜²æ­¢åºåˆ—åŒ–æ”»å‡»
- ä»£ç ç®€æ´

### æœ€ä½³å®è·µ

```java
// ä½¿ç”¨ç¤ºä¾‹
public class SingletonDemo {
    public static void main(String[] args) {
        // æšä¸¾å•ä¾‹çš„ä½¿ç”¨
        EnumSingleton.INSTANCE.doSomething("ä¸šåŠ¡é€»è¾‘");
        
        // éªŒè¯å•ä¾‹ç‰¹æ€§
        EnumSingleton instance1 = EnumSingleton.INSTANCE;
        EnumSingleton instance2 = EnumSingleton.getInstance();
        assert instance1 == instance2; // ç¡®ä¿æ˜¯åŒä¸€å®ä¾‹
    }
}
```

## ğŸ­ å·¥å‚æ¨¡å¼è¯¦è§£

### ç®€å•å·¥å‚æ¨¡å¼

é€‚ç”¨äºäº§å“ç±»å‹è¾ƒå°‘ä¸”å›ºå®šçš„åœºæ™¯ã€‚

```java
public class SimpleFactory {
    public enum ProductType {
        PRODUCT_A, PRODUCT_B
    }
    
    public static Product createProduct(ProductType type) {
        return switch (type) {
            case PRODUCT_A -> new ConcreteProductA();
            case PRODUCT_B -> new ConcreteProductB();
        };
    }
}
```

**Java 17 Switchè¡¨è¾¾å¼**ï¼š
- æ›´ç®€æ´çš„è¯­æ³•
- ç¼–è¯‘å™¨ç¡®ä¿æ‰€æœ‰åˆ†æ”¯éƒ½è¢«è¦†ç›–
- æ”¯æŒè¿”å›å€¼

### å·¥å‚æ–¹æ³•æ¨¡å¼

å½“éœ€è¦æ‰©å±•æ–°äº§å“ç±»å‹æ—¶ï¼Œä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ã€‚

```java
// æŠ½è±¡å·¥å‚
public abstract class Factory {
    public abstract Product createProduct();
    
    // æ¨¡æ¿æ–¹æ³• - å®šä¹‰äº§å“ä½¿ç”¨æµç¨‹
    public final Product getProduct() {
        Product product = createProduct();
        // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ é€šç”¨çš„äº§å“åˆå§‹åŒ–é€»è¾‘
        return product;
    }
}

// å…·ä½“å·¥å‚
@Slf4j
public class ConcreteFactoryA extends Factory {
    @Override
    public Product createProduct() {
        log.info("å·¥å‚Aåˆ›å»ºäº§å“A");
        return new ConcreteProductA();
    }
}
```

### å·¥å‚æ¨¡å¼åº”ç”¨åœºæ™¯

1. **æ•°æ®åº“è¿æ¥å·¥å‚**
```java
public class DatabaseConnectionFactory {
    public static Connection createConnection(DatabaseType type) {
        return switch (type) {
            case MYSQL -> DriverManager.getConnection("jdbc:mysql://...");
            case POSTGRESQL -> DriverManager.getConnection("jdbc:postgresql://...");
            case ORACLE -> DriverManager.getConnection("jdbc:oracle://...");
        };
    }
}
```

2. **æ¶ˆæ¯å¤„ç†å™¨å·¥å‚**
```java
public class MessageProcessorFactory {
    public static MessageProcessor createProcessor(MessageType type) {
        return switch (type) {
            case EMAIL -> new EmailProcessor();
            case SMS -> new SmsProcessor();
            case PUSH -> new PushNotificationProcessor();
        };
    }
}
```

## ğŸ—ï¸ å»ºé€ è€…æ¨¡å¼è¯¦è§£

### ç°ä»£å»ºé€ è€…æ¨¡å¼ï¼ˆé™æ€å†…éƒ¨ç±»ï¼‰

è¿™æ˜¯ç›®å‰æœ€æ¨èçš„å»ºé€ è€…æ¨¡å¼å®ç°æ–¹å¼ã€‚

```java
@Getter
@ToString
public class Computer {
    // å¿…éœ€å‚æ•°
    private final String cpu;
    private final String memory;
    
    // å¯é€‰å‚æ•°
    private final String storage;
    private final String graphics;
    private final boolean hasWifi;
    private final boolean hasBluetooth;
    
    private Computer(Builder builder) {
        this.cpu = builder.cpu;
        this.memory = builder.memory;
        this.storage = builder.storage;
        this.graphics = builder.graphics;
        this.hasWifi = builder.hasWifi;
        this.hasBluetooth = builder.hasBluetooth;
    }
    
    public static class Builder {
        // å¿…éœ€å‚æ•°
        private final String cpu;
        private final String memory;
        
        // å¯é€‰å‚æ•° - é»˜è®¤å€¼
        private String storage = "500GB SSD";
        private String graphics = "é›†æˆæ˜¾å¡";
        private boolean hasWifi = true;
        private boolean hasBluetooth = false;
        
        public Builder(String cpu, String memory) {
            this.cpu = cpu;
            this.memory = memory;
        }
        
        public Builder storage(String storage) {
            this.storage = storage;
            return this;
        }
        
        public Builder graphics(String graphics) {
            this.graphics = graphics;
            return this;
        }
        
        public Builder wifi(boolean hasWifi) {
            this.hasWifi = hasWifi;
            return this;
        }
        
        public Builder bluetooth(boolean hasBluetooth) {
            this.hasBluetooth = hasBluetooth;
            return this;
        }
        
        public Computer build() {
            return new Computer(this);
        }
    }
}
```

### ä½¿ç”¨ç¤ºä¾‹

```java
// åˆ›å»ºé«˜ç«¯æ¸¸æˆç”µè„‘
Computer gamingComputer = new Computer.Builder("Intel i9", "32GB DDR4")
        .storage("2TB NVMe SSD")
        .graphics("NVIDIA RTX 4090")
        .wifi(true)
        .bluetooth(true)
        .build();

// åˆ›å»ºåŠå…¬ç”µè„‘ï¼ˆä½¿ç”¨é»˜è®¤é…ç½®ï¼‰
Computer officeComputer = new Computer.Builder("Intel i5", "16GB DDR4")
        .build();
```

### å»ºé€ è€…æ¨¡å¼çš„ä¼˜åŠ¿

1. **å‚æ•°éªŒè¯**
```java
public Computer build() {
    // éªŒè¯å¿…éœ€å‚æ•°
    if (cpu == null || cpu.trim().isEmpty()) {
        throw new IllegalArgumentException("CPUä¸èƒ½ä¸ºç©º");
    }
    if (memory == null || memory.trim().isEmpty()) {
        throw new IllegalArgumentException("å†…å­˜ä¸èƒ½ä¸ºç©º");
    }
    
    return new Computer(this);
}
```

2. **ä¸å¯å˜å¯¹è±¡**
- æ‰€æœ‰å­—æ®µéƒ½æ˜¯ `final` çš„
- åªæä¾› `getter` æ–¹æ³•
- çº¿ç¨‹å®‰å…¨

3. **æµç•…æ¥å£**
- æ–¹æ³•é“¾è°ƒç”¨
- ä»£ç å¯è¯»æ€§å¼º
- IDEå‹å¥½çš„è‡ªåŠ¨å®Œæˆ

### ä¼ ç»Ÿå»ºé€ è€…æ¨¡å¼ï¼ˆDirector + Builderï¼‰

å½“éœ€è¦åˆ›å»ºå¤šç§é¢„å®šä¹‰é…ç½®çš„äº§å“æ—¶ï¼Œå¯ä»¥ä½¿ç”¨Directorã€‚

```java
@Slf4j
@AllArgsConstructor
public class Director {
    private ProductBuilder builder;
    
    public ComplexProduct constructStandardProduct() {
        log.info("å¼€å§‹æ„å»ºæ ‡å‡†äº§å“");
        builder.buildPartA();
        builder.buildPartB();
        builder.addFeature("æ ‡å‡†ç‰¹æ€§1");
        builder.addFeature("æ ‡å‡†ç‰¹æ€§2");
        return builder.getProduct();
    }
    
    public ComplexProduct constructAdvancedProduct() {
        log.info("å¼€å§‹æ„å»ºé«˜çº§äº§å“");
        builder.buildPartA();
        builder.buildPartB();
        builder.buildPartC();
        builder.addFeature("é«˜çº§ç‰¹æ€§1");
        builder.addFeature("é«˜çº§ç‰¹æ€§2");
        builder.addFeature("é«˜çº§ç‰¹æ€§3");
        return builder.getProduct();
    }
}
```

## ğŸš€ ç°ä»£Javaç‰¹æ€§åœ¨åˆ›å»ºå‹æ¨¡å¼ä¸­çš„åº”ç”¨

### Recordç±»çš„åº”ç”¨

Java 14å¼•å…¥çš„Recordç±»éå¸¸é€‚åˆåˆ›å»ºä¸å¯å˜çš„æ•°æ®è½½ä½“ã€‚

```java
// ä½¿ç”¨Recordåˆ›å»ºç®€å•çš„ä¸å¯å˜å¯¹è±¡
public record ProductInfo(
    String name,
    String version,
    double price,
    List<String> features
) {
    // ç´§å‡‘æ„é€ å™¨ - å‚æ•°éªŒè¯
    public ProductInfo {
        if (name == null || name.trim().isEmpty()) {
            throw new IllegalArgumentException("äº§å“åç§°ä¸èƒ½ä¸ºç©º");
        }
        if (price < 0) {
            throw new IllegalArgumentException("ä»·æ ¼ä¸èƒ½ä¸ºè´Ÿæ•°");
        }
        // é˜²å¾¡æ€§å¤åˆ¶
        features = List.copyOf(features);
    }
    
    // å·¥å‚æ–¹æ³•
    public static ProductInfo createBasic(String name, double price) {
        return new ProductInfo(name, "1.0", price, List.of());
    }
}
```

### å¯†å°ç±»çš„åº”ç”¨

Java 17çš„å¯†å°ç±»å¯ä»¥ç”¨äºé™åˆ¶å·¥å‚æ¨¡å¼ä¸­çš„äº§å“ç±»å‹ã€‚

```java
// å¯†å°ç±» - é™åˆ¶å¯èƒ½çš„å®ç°
public sealed interface PaymentMethod 
    permits CreditCard, DebitCard, DigitalWallet {
    
    void processPayment(double amount);
}

// å…·ä½“å®ç°
public final class CreditCard implements PaymentMethod {
    public void processPayment(double amount) {
        // ä¿¡ç”¨å¡æ”¯ä»˜é€»è¾‘
    }
}

public final class DebitCard implements PaymentMethod {
    public void processPayment(double amount) {
        // å€Ÿè®°å¡æ”¯ä»˜é€»è¾‘
    }
}

public final class DigitalWallet implements PaymentMethod {
    public void processPayment(double amount) {
        // æ•°å­—é’±åŒ…æ”¯ä»˜é€»è¾‘
    }
}

// å·¥å‚ç±»
public class PaymentMethodFactory {
    public static PaymentMethod createPaymentMethod(String type) {
        return switch (type.toUpperCase()) {
            case "CREDIT" -> new CreditCard();
            case "DEBIT" -> new DebitCard();
            case "WALLET" -> new DigitalWallet();
            default -> throw new IllegalArgumentException("ä¸æ”¯æŒçš„æ”¯ä»˜æ–¹å¼: " + type);
        };
    }
}
```

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ

### å•ä¾‹æ¨¡å¼æ€§èƒ½ä¼˜åŒ–

1. **é¿å…è¿‡åº¦åŒæ­¥**
```java
// ä½¿ç”¨æšä¸¾å•ä¾‹ï¼Œé¿å…åŒæ­¥å¼€é”€
public enum ConfigManager {
    INSTANCE;
    
    private final Properties config = new Properties();
    
    ConfigManager() {
        // åˆå§‹åŒ–é…ç½®
        loadConfiguration();
    }
    
    private void loadConfiguration() {
        // ä»æ–‡ä»¶æˆ–æ•°æ®åº“åŠ è½½é…ç½®
    }
    
    public String getProperty(String key) {
        return config.getProperty(key);
    }
}
```

2. **å†…å­˜ä¼˜åŒ–**
```java
// ä½¿ç”¨å¼±å¼•ç”¨ç¼“å­˜å•ä¾‹å®ä¾‹
public class CacheManager {
    private static volatile WeakReference<CacheManager> instanceRef;
    
    public static CacheManager getInstance() {
        CacheManager instance = instanceRef != null ? instanceRef.get() : null;
        if (instance == null) {
            synchronized (CacheManager.class) {
                instance = instanceRef != null ? instanceRef.get() : null;
                if (instance == null) {
                    instance = new CacheManager();
                    instanceRef = new WeakReference<>(instance);
                }
            }
        }
        return instance;
    }
}
```

### å·¥å‚æ¨¡å¼æ€§èƒ½ä¼˜åŒ–

1. **ç¼“å­˜å®ä¾‹**
```java
public class CachedFactory {
    private static final Map<ProductType, Product> CACHE = 
        new ConcurrentHashMap<>();
    
    public static Product createProduct(ProductType type) {
        return CACHE.computeIfAbsent(type, t -> switch (t) {
            case PRODUCT_A -> new ConcreteProductA();
            case PRODUCT_B -> new ConcreteProductB();
        });
    }
}
```

2. **å»¶è¿Ÿåˆå§‹åŒ–**
```java
public class LazyFactory {
    private static final Map<ProductType, Supplier<Product>> SUPPLIERS = 
        Map.of(
            ProductType.PRODUCT_A, ConcreteProductA::new,
            ProductType.PRODUCT_B, ConcreteProductB::new
        );
    
    public static Product createProduct(ProductType type) {
        Supplier<Product> supplier = SUPPLIERS.get(type);
        if (supplier == null) {
            throw new IllegalArgumentException("ä¸æ”¯æŒçš„äº§å“ç±»å‹: " + type);
        }
        return supplier.get();
    }
}
```

### å»ºé€ è€…æ¨¡å¼æ€§èƒ½ä¼˜åŒ–

1. **å¯¹è±¡æ± **
```java
public class Computer {
    public static class Builder {
        // é‡ç”¨Builderå®ä¾‹
        private static final ThreadLocal<Builder> BUILDER_POOL = 
            ThreadLocal.withInitial(Builder::new);
        
        public static Builder newBuilder(String cpu, String memory) {
            Builder builder = BUILDER_POOL.get();
            builder.reset();
            builder.cpu = cpu;
            builder.memory = memory;
            return builder;
        }
        
        private void reset() {
            // é‡ç½®æ‰€æœ‰å­—æ®µåˆ°é»˜è®¤å€¼
            this.storage = "500GB SSD";
            this.graphics = "é›†æˆæ˜¾å¡";
            this.hasWifi = true;
            this.hasBluetooth = false;
        }
    }
}
```

## ğŸ“Š æ¨¡å¼é€‰æ‹©æŒ‡å—

### å†³ç­–æ ‘

```mermaid
graph TD
    A[éœ€è¦åˆ›å»ºå¯¹è±¡] --> B{åªéœ€è¦ä¸€ä¸ªå®ä¾‹?}
    B -->|æ˜¯| C[å•ä¾‹æ¨¡å¼]
    B -->|å¦| D{å¯¹è±¡åˆ›å»ºå¤æ‚?}
    D -->|å¦| E{éœ€è¦æ ¹æ®æ¡ä»¶åˆ›å»º?}
    E -->|æ˜¯| F[å·¥å‚æ¨¡å¼]
    E -->|å¦| G[ç›´æ¥æ„é€ ]
    D -->|æ˜¯| H{æœ‰å¾ˆå¤šå¯é€‰å‚æ•°?}
    H -->|æ˜¯| I[å»ºé€ è€…æ¨¡å¼]
    H -->|å¦| J{éœ€è¦å¤åˆ¶ç°æœ‰å¯¹è±¡?}
    J -->|æ˜¯| K[åŸå‹æ¨¡å¼]
    J -->|å¦| L[æŠ½è±¡å·¥å‚æ¨¡å¼]
```

### åº”ç”¨åœºæ™¯æ€»ç»“

| åœºæ™¯ | æ¨èæ¨¡å¼ | ç†ç”± |
|------|---------|------|
| é…ç½®ç®¡ç† | æšä¸¾å•ä¾‹ | å…¨å±€å”¯ä¸€ï¼Œçº¿ç¨‹å®‰å…¨ |
| æ•°æ®åº“è¿æ¥æ±  | é¥¿æ±‰å¼å•ä¾‹ | éœ€è¦é¢„åˆå§‹åŒ– |
| æ—¥å¿—è®°å½•å™¨ | æ‡’æ±‰å¼å•ä¾‹ | å»¶è¿ŸåŠ è½½ï¼ŒèŠ‚çœèµ„æº |
| å¯¹è±¡åˆ›å»ºä¾èµ–å¤–éƒ¨æ¡ä»¶ | å·¥å‚æ–¹æ³• | å°è£…åˆ›å»ºé€»è¾‘ |
| APIå“åº”å¯¹è±¡æ„å»º | å»ºé€ è€…æ¨¡å¼ | å‚æ•°ä¼—å¤šï¼Œéœ€è¦éªŒè¯ |
| ç¼“å­˜å¯¹è±¡åˆ›å»º | åŸå‹æ¨¡å¼ | é¿å…é‡å¤åˆå§‹åŒ– |

## ğŸ”§ æµ‹è¯•ç­–ç•¥

### å•ä¾‹æ¨¡å¼æµ‹è¯•

```java
@Test
@DisplayName("å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å•ä¾‹åº”è¯¥ä¿æŒä¸€è‡´")
void testSingletonThreadSafety() throws InterruptedException {
    int threadCount = 100;
    CountDownLatch latch = new CountDownLatch(threadCount);
    Set<Integer> hashCodes = ConcurrentHashMap.newKeySet();
    
    for (int i = 0; i < threadCount; i++) {
        new Thread(() -> {
            try {
                EnumSingleton instance = EnumSingleton.INSTANCE;
                hashCodes.add(instance.hashCode());
            } finally {
                latch.countDown();
            }
        }).start();
    }
    
    latch.await(5, TimeUnit.SECONDS);
    assertThat(hashCodes).hasSize(1); // æ‰€æœ‰å®ä¾‹åº”è¯¥æœ‰ç›¸åŒçš„hashCode
}
```

### å»ºé€ è€…æ¨¡å¼æµ‹è¯•

```java
@Test
@DisplayName("å»ºé€ è€…åº”è¯¥åˆ›å»ºä¸å¯å˜å¯¹è±¡")
void testBuilderImmutability() {
    Computer computer = new Computer.Builder("Intel i7", "16GB")
            .build();
    
    // éªŒè¯ä¸å¯å˜æ€§
    assertThat(computer.getCpu()).isEqualTo("Intel i7");
    assertThat(computer.getMemory()).isEqualTo("16GB");
    
    // å°è¯•ä¿®æ”¹åº”è¯¥ä¸å½±å“åŸå¯¹è±¡ï¼ˆå¦‚æœæœ‰é˜²å¾¡æ€§å¤åˆ¶ï¼‰
    // è¿™é‡Œçš„Computerç±»å­—æ®µéƒ½æ˜¯finalçš„ï¼Œä»ç¼–è¯‘æœŸå°±ä¿è¯äº†ä¸å¯å˜æ€§
}
```

## ğŸ“ˆ æ€»ç»“

åˆ›å»ºå‹æ¨¡å¼æ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„åŸºç¡€ï¼ŒæŒæ¡è¿™äº›æ¨¡å¼èƒ½å¤Ÿï¼š

1. **æé«˜ä»£ç è´¨é‡** - é€šè¿‡å°è£…å¯¹è±¡åˆ›å»ºé€»è¾‘
2. **å¢å¼ºå¯ç»´æŠ¤æ€§** - ä¾¿äºæ‰©å±•å’Œä¿®æ”¹
3. **æ”¹å–„æ€§èƒ½** - é€šè¿‡å•ä¾‹å’Œå¯¹è±¡æ± ç­‰æŠ€æœ¯
4. **æå‡å®‰å…¨æ€§** - é€šè¿‡ä¸å¯å˜å¯¹è±¡å’Œçº¿ç¨‹å®‰å…¨è®¾è®¡

### å…³é”®è¦ç‚¹

- **å•ä¾‹æ¨¡å¼**ï¼šä¼˜å…ˆä½¿ç”¨æšä¸¾å®ç°ï¼Œæ³¨æ„çº¿ç¨‹å®‰å…¨
- **å·¥å‚æ¨¡å¼**ï¼šç»“åˆJava 17çš„å¯†å°ç±»å’ŒSwitchè¡¨è¾¾å¼
- **å»ºé€ è€…æ¨¡å¼**ï¼šä½¿ç”¨é™æ€å†…éƒ¨ç±»ï¼Œåˆ›å»ºä¸å¯å˜å¯¹è±¡
- **æ€§èƒ½ä¼˜åŒ–**ï¼šåˆç†ä½¿ç”¨ç¼“å­˜ã€å¯¹è±¡æ± å’Œå»¶è¿Ÿåˆå§‹åŒ–
- **æµ‹è¯•ç­–ç•¥**ï¼šé‡ç‚¹æµ‹è¯•çº¿ç¨‹å®‰å…¨æ€§å’Œä¸å¯å˜æ€§

é€šè¿‡åˆç†åº”ç”¨è¿™äº›åˆ›å»ºå‹æ¨¡å¼ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ„å»ºå‡ºæ›´åŠ å¥å£®ã€å¯æ‰©å±•å’Œé«˜æ€§èƒ½çš„Javaåº”ç”¨ç¨‹åºã€‚

## ğŸ”— ç›¸å…³èµ„æº

- [é¡¹ç›®æºä»£ç ](https://github.com/Rise1024/Java-Labs/tree/main/java-design-patterns#readme)
- [Javaè®¾è®¡æ¨¡å¼ç³»åˆ—æ–‡ç« ](../README.md)
- [ç‰›é€¼çš„åšå®¢ç½‘ç«™](https://dongsheng.online)
